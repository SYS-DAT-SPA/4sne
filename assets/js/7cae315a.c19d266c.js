"use strict";(self.webpackChunkinsighter=self.webpackChunkinsighter||[]).push([[7685],{4506:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var o=a(4848),n=a(8453);const r={},s="Grafico ad Albero (Sankey)",t={id:"REPORTING/Grafici/Grafico_sankey",title:"Grafico ad Albero (Sankey)",description:"In questo tipo di grafico il dato \xe8 mostrato sotto forma di albero a nodi.",source:"@site/docs/REPORTING/Grafici/Grafico_sankey.mdx",sourceDirName:"REPORTING/Grafici",slug:"/REPORTING/Grafici/Grafico_sankey",permalink:"/4sne/docs/REPORTING/Grafici/Grafico_sankey",draft:!1,unlisted:!1,editUrl:"https://insightest.app/apps/gitten/#/pages/SYS-DAT-SPA/4sne/docs/REPORTING/Grafici/Grafico_sankey.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Grafico Radar",permalink:"/4sne/docs/REPORTING/Grafici/Grafico_radar"},next:{title:"Singolo Valore",permalink:"/4sne/docs/REPORTING/Grafici/Grafico_singolo_valore"}},l={},c=[{value:"Definizione SQL",id:"definizione-sql",level:3},{value:"Nodi. Come accenato nei paragrafi precedenti oltre a fornire i dati relativi ai nodi ed i livelli, questi vanno dichiararati nella configurazione del report. Questa configurazione viene assegnata con il pulsante ATTRIBUTO.",id:"nodi-come-accenato-nei-paragrafi-precedenti-oltre-a-fornire-i-dati-relativi-ai-nodi-ed-i-livelli-questi-vanno-dichiararati-nella-configurazione-del-report-questa-configurazione-viene-assegnata-con-il-pulsante-attributo",level:3}];function d(e){const i={code:"code",h1:"h1",h3:"h3",header:"header",img:"img",p:"p",strong:"strong",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"grafico-ad-albero-sankey",children:"Grafico ad Albero (Sankey)"})}),"\n",(0,o.jsx)(i.p,{children:"In questo tipo di grafico il dato \xe8 mostrato sotto forma di albero a nodi."}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"immagine_2022-11-22_143237.png",src:a(3497).A+"",width:"1277",height:"368"})}),"\n",(0,o.jsx)(i.p,{children:'Selezione tipo del grafico Questo tipo di grafico si attiva selezionando l\'opzione "Formato Grafco ad Albero" nel campo formato report.'}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"formato_grafico_albero.jpg",src:a(4294).A+"",width:"941",height:"111"})}),"\n",(0,o.jsx)(i.h3,{id:"definizione-sql",children:"Definizione SQL"}),"\n",(0,o.jsxs)(i.p,{children:["Per creare il grafico occorre indicare al sistema quali sono i ",(0,o.jsx)(i.strong,{children:"nodi"})," ed i ",(0,o.jsx)(i.strong,{children:"livelli"})," di appartenenza. L'ordine in cui vengono dichiarati i nodi ed i livelli determina anche la profondit\xe0 nell'albero: il primo livello dichiarato funger\xe0 da radice, mentre l'ultimo livello sar\xe0 quello delle foglie.   Supponiamo di voler costruire il grafico sotto riportato."]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"grafico_albero.jpg",src:a(6893).A+"",width:"944",height:"364"})}),"\n",(0,o.jsxs)(i.p,{children:["Occorre costruire una query SQL che fornisce i livelli ed il valore da attribuire ad ogni livello. I campi da fornire sono: nodo, livello e valore.  I nomi dei nodi e livelli possono essere gestiti a piacere mentre il campo del valore deve chiamarsi ",(0,o.jsx)(i.strong,{children:"Value"}),". Seguendo l'esempio preso in considerazione ci occorre costruire i riferimenti dei due nodi Esposizione : Esposizione e Backlog. A questi due nodi vanno attribute le foglie (ossia lo stato dell'esposizione). Per ogni ramo infine occorre indicare il valore di riferimento. ",(0,o.jsx)(i.strong,{children:"Esempio"}),":"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"grafico_albero2.jpg",src:a(9235).A+"",width:"360",height:"161"})}),"\n",(0,o.jsxs)(i.p,{children:["Pertanto una possibile query SQL pu\xf2 essere:  ",(0,o.jsx)(i.code,{children:"select 'Esposizione' as Esposizione, 'Aperto' as Stato, sum(cast(isnull(F2IMPAN,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab union  select 'Esposizione' as Esposizione, 'Scaduto' as Stato, sum(cast(isnull(F2ASCA,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab1 Union select 'Esposizione' as Esposizione, 'Pagamenti Futuri' as Stato, sum(cast(isnull(F2PAGF,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab2 union select 'Backlog' as Esposizione, 'Ordinato Aperto' as Stato, sum(cast(isnull(F2ORDI,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab3 union select 'Backlog' as Esposizione, 'Bolle Emesse' as Stato, sum(cast(isnull(F2BOLLE,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab4 union select 'Backlog' as Esposizione, 'Da Contabilizzare' as Stato, sum(cast(isnull(F2FATT,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab5 union select 'Backlog' as Esposizione, 'Da Bollettare' as Stato, sum(cast(isnull(F2IMPE,0) as decimal(10,2))) as Value from [SVILUPPO_ODBC].[E70F984W].[CLIFILEWG].[SDESP00F] Tab6"}),"  Si pu\xf2 inserire il campo ",(0,o.jsx)(i.strong,{children:"Legend"})," per la legenda tooltip. Alla query va aggiunta la clausola $$Filter$$ nel caso debbano essere gestiti eventuali filtri dinamici."]}),"\n",(0,o.jsx)(i.h3,{id:"nodi-come-accenato-nei-paragrafi-precedenti-oltre-a-fornire-i-dati-relativi-ai-nodi-ed-i-livelli-questi-vanno-dichiararati-nella-configurazione-del-report-questa-configurazione-viene-assegnata-con-il-pulsante-attributo",children:"Nodi. Come accenato nei paragrafi precedenti oltre a fornire i dati relativi ai nodi ed i livelli, questi vanno dichiararati nella configurazione del report. Questa configurazione viene assegnata con il pulsante ATTRIBUTO."}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"attributo.jpg",src:a(8792).A+"",width:"269",height:"47"})}),"\n",(0,o.jsx)(i.p,{children:"In questa finestra di congiurazione vanno elecanti i nomi dei nodi: devono coincidere con i nomi dei campi della query SQL. Ripercorrendo l'esempio proposto, i campi sono:"}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"attributo2.jpg",src:a(3312).A+"",width:"546",height:"304"})})]})}function p(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8792:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/attributo-817e0a402183097af3f4abe53575a3dd.jpg"},3312:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/attributo2-1df7659eb2f346b753d0c0583aac2299.jpg"},4294:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/formato_grafico_albero-5a7e3bdc9fb45454c244e5426fb97fb3.jpg"},6893:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/grafico_albero-45c91bd6255d8dfc682bec1d8e6a018f.jpg"},9235:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/grafico_albero2-ca5e07341196761d17b7c67068baec42.jpg"},3497:(e,i,a)=>{a.d(i,{A:()=>o});const o=a.p+"assets/images/immagine_2022-11-22_143237-a74726a884d1d20ed9f9ee1780230144.png"},8453:(e,i,a)=>{a.d(i,{R:()=>s,x:()=>t});var o=a(6540);const n={},r=o.createContext(n);function s(e){const i=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(r.Provider,{value:i},e.children)}}}]);